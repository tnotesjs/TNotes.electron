# [0024. é€šè¿‡ app æ¨¡å—è·å–åº”ç”¨ç›¸å…³è·¯å¾„](https://github.com/Tdahuyou/TNotes.electron/tree/main/notes/0024.%20%E9%80%9A%E8%BF%87%20app%20%E6%A8%A1%E5%9D%97%E8%8E%B7%E5%8F%96%E5%BA%94%E7%94%A8%E7%9B%B8%E5%85%B3%E8%B7%AF%E5%BE%84)

<!-- region:toc -->

- [1. ğŸ”— links](#1--links)
- [2. ğŸ“’ `app.getPath(name)`](#2--appgetpathname)
- [3. ğŸ’» demo](#3--demo)

<!-- endregion:toc -->
- `app.getPath(name)` çš„åŸºæœ¬ä½¿ç”¨
- æœ¬æ–‡ä»‹ç»äº†é€šè¿‡ app æ¨¡å—ä¸­çš„ app.getPath æ–¹æ³•æ¥è·å–åº”ç”¨ç¨‹åºçš„ç›¸å…³è·¯å¾„ã€‚å…¶ä¸­å¾ˆå¤šè·¯å¾„åœ¨éƒ½æ˜¯å¾ˆé‡è¦çš„ï¼Œä¸è¦å†ä½¿ç”¨ nodejs å»ç»„è£…è¿™äº›è·¯å¾„ä¿¡æ¯äº†ï¼Œç°å°è¯•åˆ° app.getPath ä¸­æ‰¾æ‰¾çœ‹æœ‰æ²¡æœ‰ç°æˆçš„ã€‚

## 1. ğŸ”— links

- https://www.electronjs.org/zh/docs/latest/api/app#appgetpathname
  - å®˜æ–¹æ–‡æ¡£ï¼ŒæŸ¥çœ‹æ¥å£ app.getPath è¯´æ˜æ–‡æ¡£ã€‚

## 2. ğŸ“’ `app.getPath(name)`

`app.getPath(name)`ï¼Œå…¶ä¸­å‚æ•° `name` æ˜¯ä¸€ä¸ª string ç±»å‹ï¼Œ`name` å¯ä»¥æ˜¯ä»¥ä¸‹è¿™äº›å€¼ã€‚

- `home` ç”¨æˆ·çš„ home æ–‡ä»¶å¤¹ï¼ˆä¸»ç›®å½•ï¼‰
- `appData` æ¯ä¸ªç”¨æˆ·çš„åº”ç”¨ç¨‹åºæ•°æ®ç›®å½•ï¼Œé»˜è®¤æƒ…å†µä¸‹æŒ‡å‘ï¼š
    - `%APPDATA%` Windows ä¸­
    - `$XDG_CONFIG_HOME` or `~/.config` Linux ä¸­
    - `~/Library/Application Support` macOS ä¸­
- `userData` å‚¨å­˜ä½ åº”ç”¨ç¨‹åºé…ç½®æ–‡ä»¶çš„æ–‡ä»¶å¤¹ï¼Œé»˜è®¤æ˜¯ `appData` æ–‡ä»¶å¤¹é™„åŠ åº”ç”¨çš„åç§° æŒ‰ç…§ä¹ æƒ¯ç”¨æˆ·å­˜å‚¨çš„æ•°æ®æ–‡ä»¶åº”è¯¥å†™åœ¨æ­¤ç›®å½•ï¼ŒåŒæ—¶ä¸å»ºè®®åœ¨è¿™å†™å¤§æ–‡ä»¶ï¼Œå› ä¸ºæŸäº›ç¯å¢ƒä¼šå¤‡ä»½æ­¤ç›®å½•åˆ°äº‘ç«¯å­˜å‚¨ã€‚
- `sessionData` æ­¤ç›®å½•å­˜å‚¨ç”± `Session` ç”Ÿæˆçš„æ•°æ®ï¼Œä¾‹å¦‚ localStorageï¼Œcookiesï¼Œç£ç›˜ç¼“å­˜ï¼Œä¸‹è½½çš„å­—å…¸ï¼Œç½‘ç»œ çŠ¶æ€ï¼Œå¼€å‘è€…å·¥å…·æ–‡ä»¶ç­‰ã€‚ é»˜è®¤ä¸º `userData` ç›®å½•ã€‚ Chromium å¯èƒ½åœ¨æ­¤å¤„å†™å…¥éå¸¸å¤§çš„ç£ç›˜ç¼“å­˜ï¼Œå› æ­¤ï¼Œå¦‚æœæ‚¨çš„åº”ç”¨ä¸ä¾èµ–äºæµè§ˆå™¨å­˜å‚¨ï¼ˆå¦‚ localStorage æˆ– cookieï¼‰æ¥ä¿å­˜ç”¨æˆ·æ•°æ®ï¼Œå»ºè®®å°†æ­¤ç›®å½•è®¾ç½®ä¸ºå…¶ä»–ä½ç½®ï¼Œä»¥é¿å…æ±¡æŸ“ `userData` ç›®å½•ã€‚
- `temp` ä¸´æ—¶æ–‡ä»¶å¤¹
- `exe`å½“å‰çš„å¯æ‰§è¡Œæ–‡ä»¶
- `module` The `libchromiumcontent` åº“
- `desktop` å½“å‰ç”¨æˆ·çš„æ¡Œé¢æ–‡ä»¶å¤¹
- `documents` ç”¨æˆ·æ–‡æ¡£ç›®å½•çš„è·¯å¾„
- `downloads` ç”¨æˆ·ä¸‹è½½ç›®å½•çš„è·¯å¾„
- `music` ç”¨æˆ·éŸ³ä¹ç›®å½•çš„è·¯å¾„
- `pictures` ç”¨æˆ·å›¾ç‰‡ç›®å½•çš„è·¯å¾„
- `videos` ç”¨æˆ·è§†é¢‘ç›®å½•çš„è·¯å¾„
- `recent` ç”¨æˆ·æœ€è¿‘æ–‡ä»¶çš„ç›®å½• (ä»…é™ Windows)ã€‚
- `logs`åº”ç”¨ç¨‹åºçš„æ—¥å¿—æ–‡ä»¶å¤¹
- `crashDumps` å´©æºƒè½¬å‚¨æ–‡ä»¶å­˜å‚¨çš„ç›®å½•ã€‚

å…¶ä¸­ `appData`ã€`userData`ã€`exe`ã€`desktop` è¿™äº›è·¯å¾„ä¼šç›¸å¯¹æ¯”è¾ƒå¸¸ç”¨ä¸€äº›ã€‚

## 3. ğŸ’» demo

```js
// index.js
// æ‰“å¼€ç»ˆç«¯è¾“å…¥å‘½ä»¤ npm run dev æŸ¥çœ‹æœ€ç»ˆçš„æ‰“å°ç»“æœ
const { app } = require('electron')
const { join } = require('path')

app.on('ready', () => {
  const exeFilePath       = app.getPath('exe')
  const installFolderPath = join(exeFilePath, '../')
  const desktopPath       = app.getPath('desktop')
  // ...

  console.log('ã€å¯æ‰§è¡Œæ–‡ä»¶è·¯å¾„ã€‘', exeFilePath)
  console.log('ã€å®‰è£…ç›®å½•ã€‘',      installFolderPath)
  console.log('ã€ç”¨æˆ·æ¡Œé¢è·¯å¾„ã€‘',   desktopPath)
  // ...
})
```

å…¶ä¸­æœ‰äº›è·¯å¾„åœ¨å¼€å‘é˜¶æ®µæ„ä¹‰ä¸å¤§ï¼Œæ¯”å¦‚åº”ç”¨ç¨‹åºå®‰è£…åçš„å¯æ‰§è¡Œæ–‡ä»¶æ‰€åœ¨çš„ä½ç½®ï¼Œè¿™éœ€è¦ç­‰å’±ä»¬åº”ç”¨ç¨‹åºå‡ºåŒ…ï¼Œä¸¢ç»™ç”¨æˆ·å®‰è£…å¥½ä¹‹åï¼Œæ‰“å°å‡ºæ¥çš„å€¼å°†æ˜¯ç”¨æˆ·é€‰æ‹©çš„ç¨‹åºå®‰è£…çš„ä½ç½®ã€‚
